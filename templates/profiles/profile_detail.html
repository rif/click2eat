{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans 'Your profile' %}{% endblock %}

{% block content %}
<ul>
<li>{% trans 'First name' %}: {{ profile.first_name }}</li>
<li>{% trans 'Last name' %}: {{ profile.last_name }}</li>
<li>{% trans 'Birth date' %}: {{ profile.birth_date }}</li>
<li>{% trans 'Phone' %}: {{ profile.phone }}</li>
<li>{% trans 'Sex' %}: {{ profile.sex }}</li>
<li>{% trans 'Newsletter' %}: {{ profile.newsletter }}</li>
</ul>

<a href="{% url profiles_edit_profile %}">Edit</a><nbsp>
<a href="{% url restaurant:index %}">Home</a>
<br/>
<div id="delivery_addresses">
<table>
    <thead>
        <tr>
            <th>#</th>
            <th>{% trans 'Address' %}</th>
            <th>{% trans 'Street' %}</th>
            <th>{% trans 'Operation' %}</td>
        </tr>
    </thead>
    <tbody>
        {% for addr in user.deliveryaddress_set.iterator %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td><a href="{% url userprofiles:address_detail addr.id %}">{{ addr }}</a></td>
            <td>{{ addr.street }}</td>
            <td><a href="{% url userprofiles:delete_address addr.id %}">Delete</a> <a href="{% url userprofiles:update_address addr.id %}">Edit</a></td>
        </tr>
        {% empty %}
        <tr><td>You have not defined any delivery address. <a href="{% url userprofiles:create_address %}">Add one now</a></td></tr>
        {% endfor %}
    </tbody>
</table>
</div>
<br/>
<a href="{% url userprofiles:create_address %}">Add delivery address</a>
{% endblock %}
